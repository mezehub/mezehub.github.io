<!DOCTYPE html>
<html lang="en">
<head>
    <title>Gallery - User Uploaded Armor Sets</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.25">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link rel="icon" href="mezehub.png" type="image/gif">
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>     
        .role-crown { color: #98FB98; }
        .role-master999 { color: #f1c40f; }
        .role-prayergod { color: #0051ff; }
        .role-monstiecollector { color: #d05380; }
        .role-roadmaster { color: #000094; }
        .role-z4roadmaster { color: #11ec11; }
        .role-z4easy { color: #00feff; }
        .role-lonewolf { color: #ff8b60; }
        .role-masterofallweapons { color: #e91e63; }
        .role-sns { color: #9b59b6; }
        .role-ds { color: #9b59b6; }
        .role-gs { color: #9b59b6; }
        .role-ls { color: #9b59b6; }
        .role-hammer { color: #9b59b6; }
        .role-hh { color: #9b59b6; }
        .role-lance { color: #9b59b6; }
        .role-gl { color: #9b59b6; }
        .role-swaxe { color: #9b59b6; }
        .role-tonfa { color: #9b59b6; }
        .role-lbg { color: #9b59b6; }
        .role-hbg { color: #9b59b6; }
        .role-bow { color: #9b59b6; }</style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">
                <img src="mezehub.png" alt="Logo" width="150px" height="auto" style="padding-left: 10%;">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col">
                            <ul class="navbar-nav justify-content-center text-center">
                                <li class="nav-item">
                                    <a class="nav-link" href="index.html">Introduction</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="crown-hunter.html">🏆Crown Hunter🏆</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="lone-wolf.html">✹Lone Wolf✹</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="road-master.html">💀Road Master💀</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="z4-road-master.html">💀Z4 Road Master💀</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="z4-easy.html">♘Z4 Easy♘</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="monstie-collector.html">Wallpaper Enthusiast</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <ul class="navbar-nav justify-content-center text-center">
                                <li class="nav-item">
                                    <a class="nav-link" href="master-of-999.html">⭐Master of 999⭐</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="master-of-all-weapons.html">🏅Master of All Weapons🏅</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="sns-master.html">🏅SNS Master🏅</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="ds-master.html">🏅DS Master🏅</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="gs-master.html">🏅GS Master🏅</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="ls-master.html">🏅LS Master🏅</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <ul class="navbar-nav justify-content-center text-center">
                                <li class="nav-item">
                                    <a class="nav-link" href="hammer-master.html">🏅Hammer Master🏅</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="hh-master.html">🏅HH Master🏅</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="lance-master.html">🏅Lance Master🏅</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="gl-master.html">🏅GL Master🏅</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="swaxe-master.html">🏅Swaxe Master🏅</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="tonfa-master.html">🏅Tonfa Master🏅</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <ul class="navbar-nav justify-content-center text-center">
                                <li class="nav-item">
                                    <a class="nav-link" href="lbg-master.html">🏅LBG Master🏅</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="hbg-master.html">🏅HBG Master🏅</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="bow-master.html">🏅Bow Master🏅</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <ul class="navbar-nav justify-content-center text-center">
                                <li class="nav-item">
                                    <a class="nav-link" href="prayer-god.html">⭐Prayer God⭐</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <ul class="navbar-nav justify-content-center text-center">
                                <li class="nav-item">
                                    <a href="guide.html"><button type="button" class="btn btn-dark">Guides</button></a>
                                </li>
                                <li class="nav-item">
                                    <a href="extras.html"><button type="button" class="btn btn-success">Extras</button></a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <h1 style="text-align: center;font-size: 35px;padding-top: 50px;color: #ffffff;">User Uploaded Armor Sets</h1>

    <style>
        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            background-image: url('images/10.jpg') !important;
            background-size: cover;
        }
        .gallery {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            padding: 20px;
        }
        .gallery-item {
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            padding: 15px;
            max-width: 300px;
            text-align: center;
        }
        .gallery-item img {
            max-width: 100%;
            border-radius: 10px;
            cursor: pointer;
        }
        .caption {
            margin-top: 10px;
        }
    </style>

    <div class="container">
        <div class="text-center mb-4">
            <label for="guideFilter" class="form-label">Filter by Guide</label>
            <select class="form-select w-auto d-inline-block" id="guideFilter" onchange="filterImages()">
                <option value="">All Guides</option>
                <option value="sns-guide">🏅SNS Master🏅</option>
                <option value="ds-guide">🏅DS Master🏅</option>
                <option value="gs-guide">🏅GS Master🏅</option>
                <option value="ls-guide">🏅LS Master🏅</option>
                <option value="hammer-guide">🏅Hammer Master🏅</option>
                <option value="hh-guide">🏅HH Master🏅</option>
                <option value="lance-guide">🏅Lance Master🏅</option>
                <option value="gl-guide">🏅GL Master🏅</option>
                <option value="swaxe-guide">🏅Swaxe Master🏅</option>
                <option value="tonfa-guide">🏅Tonfa Master🏅</option>
                <option value="lbg-guide">🏅LBG Master🏅</option>
                <option value="hbg-guide">🏅HBG Master🏅</option>
                <option value="bow-guide">🏅Bow Master🏅</option>
            </select>
        </div>

        <div class="gallery" id="imageGallery"></div>
    </div>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
      import { getFirestore, collection, getDocs, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

      const firebaseConfig = {
        apiKey: "AIzaSyC-sUTBhiMtIfUm8JmA7Pv511d_lhijNYM",
        authDomain: "hunterachieves-github.firebaseapp.com",
        projectId: "hunterachieves-github",
        storageBucket: "hunterachieves-github.appspot.com",
        messagingSenderId: "996497090535",
        appId: "1:996497090535:web:7cf0aeb8948266d4857f42",
        measurementId: "G-7JJYYMJDNV"
      };

      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      async function loadImages() {
        const querySnapshot = await getDocs(collection(db, 'uploads'));
        const imageGallery = document.getElementById('imageGallery');

        querySnapshot.forEach(async (docSnap) => {
          const data = docSnap.data();
          const userDoc = await getDoc(doc(db, 'users', data.username));
          const userData = userDoc.exists() ? userDoc.data() : {};
          const profilePicture = userData.profilePicture;

          const itemDiv = document.createElement('div');
          itemDiv.classList.add('gallery-item');
          itemDiv.setAttribute('data-guide', data.guide);

          if (profilePicture) {
            const img = document.createElement('img');
            img.src = profilePicture;
            img.alt = 'Profile Picture';
            img.style.width = '50px';
            img.style.height = '50px';
            img.style.borderRadius = '50%';
            img.style.marginBottom = '10px';
            itemDiv.appendChild(img);
          }

          const img = document.createElement('img');
          img.src = data.imageUrl;
          img.addEventListener('click', () => {
              window.open(data.imageUrl, '_blank');
          });

          const caption = document.createElement('div');
          caption.classList.add('caption');
          const date = data.timestamp ? new Date(data.timestamp.seconds * 1000).toLocaleDateString() : 'N/A';
          caption.innerHTML = `<strong>Uploaded By: ${data.username}</strong><br>Description: ${data.note}<br>Date: ${date}`;
          itemDiv.appendChild(img);
          itemDiv.appendChild(caption);
          imageGallery.appendChild(itemDiv);
        });

        filterImages(); // Apply initial filter
      }

      function filterImages() {
        const filter = document.getElementById('guideFilter').value;
        const galleryItems = document.querySelectorAll('.gallery-item');

        galleryItems.forEach(item => {
          if (filter === '' || item.getAttribute('data-guide') === filter) {
            item.style.display = 'block';
          } else {
            item.style.display = 'none';
          }
        });
      }

      window.onload = function() {
        loadImages();
      };

      window.filterImages = filterImages; // Ensure the function is globally accessible
    </script>
        <div class="button-mode ">
            <input type="checkbox" class="checkbox" id="checkbox">
            <label for="checkbox" class="checkbox-label">
              <i class="fas fa-moon"></i>
              <i class="fas fa-sun"></i>
              <span class="ball"></span>
            </label>
          </div>
          
          
          
          <script>
           const checkbox = document.getElementById("checkbox");
          
          document.addEventListener("DOMContentLoaded", () => {
              const isDarkMode = localStorage.getItem("darkMode") === "true";
              document.body.classList.toggle("dark", isDarkMode);
              checkbox.checked = isDarkMode;
          });
          
          checkbox.addEventListener("change", () => {
              const isDarkMode = checkbox.checked;
              document.body.classList.toggle("dark", isDarkMode);
              localStorage.setItem("darkMode", isDarkMode);
          });
          </script>
</body>
</html>
