<!DOCTYPE html>
<html lang="en">

<head>
    <title>Gacha List- MHF-Z Achievements</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.25">
    <meta property="og:title" content="MezeLounge Gacha">
    <meta property="og:description" content="Overview of the Gacha Rolling process + Current Gacha List">
    <meta property="og:image" content="https://mezehub.github.io/images/mezehub.png">
    <meta property="og:type" content="website">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/style.css" rel="stylesheet">
    <link rel="icon" href="../mezehub.png" type="image/gif">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        .role-crown {
            color: #98FB98;
        }

        .role-master999 {
            color: #f1c40f;
        }

        .role-prayergod {
            color: #0051ff;
        }

        .role-monstiecollector {
            color: #d05380;
        }

        .role-roadmaster {
            color: #000094;
        }

        .role-z4roadmaster {
            color: #11ec11;
        }

        .role-z4easy {
            color: #00feff;
        }

        .role-lonewolf {
            color: #0051ff;
        }

        .role-masterofallweapons {
            color: #e91e63;
        }

        .role-sns,
        .role-ds,
        .role-gs,
        .role-ls,
        .role-hammer,
        .role-hh,
        .role-lance,
        .role-gl,
        .role-swaxe,
        .role-tonfa,
        .role-lbg,
        .role-hbg,
        .role-bow {
            color: #9b59b6;
        }

        .table-responsive td,
        .table-responsive th {
            padding: 0;
            margin: 0;
        }

        .table-responsive iframe {
            width: 100%;
            height: 125%;
            border: 0;
            display: block;
        }

        .right-sidebar {
            width: 200px;
            background-color: #fff;
            color: #343a40;
            height: 100vh;
            padding: 10px;
            padding-top: 50px;
            position: fixed;
            right: 0;
            top: 0;
            overflow-y: auto;
            z-index: 1000;
            border-left: 1px solid #ddd;
        }

        .right-sidebar a {
            color: #7030a0;
            display: block;
            padding: 10px;
            text-decoration: none;
        }

        .right-sidebar a:hover {
            background-color: #f8f9fa;
        }

        .main-content {
            margin-left: 270px;
            margin-right: 220px;
            margin-top: 15px;
            padding: 20px;
            background-color: #ffffff;
            color: #7030a0;
        }

        .table-responsive .weapon {
            display: table;
        }

        .table-responsive .transmog {
            display: none;
        }
    </style>
</head>

<body>
    <div class="hamburger-container">
        <button class="navbar-toggler" type="button">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </div>
    <div id="sidebar" class="sidebar">
        <a href="../index.html">
            <img src="../images/mezehub.png" alt="Logo" class="logo" style="width: 200px;">
        </a>
        <div class="accordion" id="accordionExample">
            <br>
            <div class="accordion-item">
                <a class="btn manual-download" href="/index.html">
                    <img class="btn-logo" src="/images/original.png" alt="Logo">
                    <span class="btn-text">Home</span>
                </a>
            </div>
            <!-- Rest of your accordion items here -->
        </div>
    </div>

    <div id="right-sidebar" class="right-sidebar">
        <h4 style="color: #7030a0;"><strong>Navigation</strong></h4>
        <a href="#introduction" style="color: #7030a0;">Introduction</a>
        <a href="#gacha-rolling" style="color: #7030a0;">Gacha Rolling</a>
        <a href="#gacha-list" style="color: #7030a0;">Gacha List</a>
    </div>

    <div class="main-content container">
        <h1 style="text-align: center; font-size: 35px; padding-top: 50px; margin-bottom: 30px; color: #7030a0;">MezeLounge Gacha</h1>

        <h2 id="introduction" style="text-align: center;">Introduction</h2>
        <p style="text-align: left;">Gacha Rolling is a process that allows you to “gamble” your luck for a chance at various items, equipment tickets, and transmog tickets.</p>

        <h2 id="gacha-list" style="text-align: center;">Gacha List</h2>
        <p style="text-align: left;">Below are the current Gacha rolls for this cycle.</p>

        <p style="text-align: left; color: rgb(222, 88, 255)">
            Current Gacha: Fall Gacha<br>
            Time Remaining: <span id="time-remaining"></span>
        </p>

        <div class="btn-container">
            <button id="transmogButton">Transmog</button>
            <button id="weaponButton">Weapon</button>
        </div>

        <div class="table-responsive">
            <table class="transmog" border="1">
                <thead>
                    <tr>
                        <th class="sns-master-th">Transmog</th>
                        <th class="sns-master-th">Blacksmith Section</th>
                        <th class="sns-master-th">Page</th>
                        <th class="sns-master-th">Image</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>

            <table class="weapon" border="1">
                <thead>
                    <tr>
                        <th class="sns-master-th">Weapon</th>
                        <th class="sns-master-th">Type</th>
                        <th class="sns-master-th">Blacksmith Section</th>
                        <th class="sns-master-th">Page</th>
                        <th class="sns-master-th">Image</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <script>
            document.addEventListener('DOMContentLoaded', function () {
                // URLs for the Google Sheets CSV and TSV data
                const transmogUrl = 'https://docs.google.com/spreadsheets/d/1qxifSyRNq02J3X4mrduiusCwgNTAMKquXqWoxMrtgGA/pub?gid=0&single=true&output=csv';
                const weaponUrl = 'https://docs.google.com/spreadsheets/d/1qxifSyRNq02J3X4mrduiusCwgNTAMKquXqWoxMrtgGA/pub?gid=342299954&single=true&output=tsv';

                // Fetch and populate the Transmog table
                fetch(transmogUrl)
                    .then(response => response.text())
                    .then(data => {
                        const rows = data.split('\n').slice(1); // Skip the header row
                        const tableBody = document.querySelector('.transmog tbody');

                        rows.forEach(row => {
                            const cells = row.split(',');
                            const tr = document.createElement('tr');

                            tr.innerHTML = `
                                <td class="sns-master-td">${cells[0]}</td>
                                <td class="sns-master-td">${cells[1]}</td>
                                <td class="sns-master-td">${cells[2]}</td>
                                <td class="full-td">
                                    <a href="${cells[3]}" target="_blank">
                                        <img src="${cells[3]}" style="width: 400px;">
                                    </a>
                                </td>
                            `;
                            tableBody.appendChild(tr);
                        });
                    })
                    .catch(error => console.error('Error fetching the Transmog data:', error));

                // Fetch and populate the Weapon table
                fetch(weaponUrl)
                    .then(response => response.text())
                    .then(data => {
                        const rows = data.split('\n').slice(1); // Skip the header row
                        const tableBody = document.querySelector('.weapon tbody');

                        rows.forEach(row => {
                            const cells = row.split('\t'); // TSV data is tab-separated
                            const tr = document.createElement('tr');

                            tr.innerHTML = `
                                <td class="sns-master-td">${cells[0]}</td>
                                <td class="sns-master-td">${cells[1]}</td>
                                <td class="sns-master-td">${cells[2]}</td>
                                <td class="sns-master-td">${cells[3]}</td>
                                <td class="full-td">
                                    <a href="${cells[4]}" target="_blank">
                                        <img src="${cells[4]}" style="width: 400px;">
                                    </a>
                                </td>
                            `;
                            tableBody.appendChild(tr);
                        });
                    })
                    .catch(error => console.error('Error fetching the Weapon data:', error));

                // Initial setup: weapon table displayed, transmog table hidden
                document.querySelector('.weapon').style.display = 'table';
                document.querySelector('.transmog').style.display = 'none';

                // Ensure the weapon button is active by default
                document.getElementById('weaponButton').style.backgroundColor = '#7031a1';
                document.getElementById('weaponButton').style.color = 'white';
                document.getElementById('transmogButton').style.backgroundColor = 'white';
                document.getElementById('transmogButton').style.color = '#7031a1';

                // Toggle functionality for buttons
                document.getElementById('weaponButton').onclick = function () {
                    document.querySelector('.weapon').style.display = 'table';
                    document.querySelector('.transmog').style.display = 'none';

                    this.style.backgroundColor = '#7031a1';
                    this.style.color = 'white';
                    document.getElementById('transmogButton').style.backgroundColor = 'white';
                    document.getElementById('transmogButton').style.color = '#7031a1';
                };

                document.getElementById('transmogButton').onclick = function () {
                    document.querySelector('.weapon').style.display = 'none';
                    document.querySelector('.transmog').style.display = 'table';

                    this.style.backgroundColor = '#7031a1';
                    this.style.color = 'white';
                    document.getElementById('weaponButton').style.backgroundColor = 'white';
                    document.getElementById('weaponButton').style.color = '#7031a1';
                };
            });
        </script>

        <div class="button-mode ">
            <input type="checkbox" class="checkbox" id="checkbox">
            <label for="checkbox" class="checkbox-label">
                <i class="fas fa-moon"></i>
                <i class="fas fa-sun"></i>
                <span class="ball"></span>
            </label>
        </div>

        <style>
            body.dark td {
                color: #000000 !important;
            }

            body.dark {
                background-color: #121212;
                color: white;
            }

            body.dark h2 {
                color: #7030a0;
            }

            body.dark p,
            body.dark td,
            body.dark th,
            body.dark ul {
                color: white;
            }

            body.dark #gacha-info {
                color: rgb(222, 88, 255);
            }

            body.dark .right-sidebar {
                background-color: #1a1a1a;
            }
        </style>

        <script>
            document.addEventListener('DOMContentLoaded', function () {
                const eventEndTimeUTC = new Date('2024-09-30T04:00:00Z').getTime(); // Corresponding to 00:00 EST

                function updateTimeRemaining() {
                    const now = new Date().getTime();
                    const timeRemaining = eventEndTimeUTC - now;

                    if (timeRemaining > 0) {
                        const days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24));
                        const hours = Math.floor((timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                        const minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));
                        const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);

                        document.getElementById('time-remaining').textContent = `${days}d ${hours}h ${minutes}m ${seconds}s`;
                    } else {
                        document.getElementById('time-remaining').textContent = 'Event has ended';
                    }
                }

                setInterval(updateTimeRemaining, 1000);

                const checkbox = document.getElementById("checkbox");
                document.addEventListener("DOMContentLoaded", () => {
                    const isDarkMode = localStorage.getItem("darkMode") === "true";
                    document.body.classList.toggle("dark", isDarkMode);
                    checkbox.checked = isDarkMode;
                });

                checkbox.addEventListener("change", () => {
                    const isDarkMode = checkbox.checked;
                    document.body.classList.toggle("dark", isDarkMode);
                    localStorage.setItem("darkMode", isDarkMode);
                });
            });
        </script>
    </div>
</body>

</html>
